<link rel="stylesheet" type="text/css" href="trialInfo.css">
<head>
    <meta charset="UTF-8">
    <title>Trial Info</title>
</head>

<div class="backBox">

    <div class="header">
        <h3>Study Details Below</h3>
    </div>

    <div class="navOptions">
        <a ui-sref="searchBar">
            New Search
        </a>
        <br>
        <br>
        <a href="#" onclick="history.back()">
           Back To Results
        </a>
    </div>

    <div class="briefTitleBox">
        <h3 ng-repeat="trial in trialInfo" ng-if="trial['http://stjohns.edu/fullclinicaltrial/hasOfficialTitle'][0]['@value'] != null">
            <u>Official Title:</u>
            {{trial['http://stjohns.edu/fullclinicaltrial/hasOfficialTitle'][0]['@value']}}
        </h3>
    </div>

    <div class="descriptionHeader">
        <h3>Description</h3>
    </div>

    <div class="descriptionBox">
        <h3 ng-repeat="trial in trialInfo" ng-if="trial['http://stjohns.edu/fullclinicaltrial/hasDetailedDescrip'][0]['@value'] != null">
            <strong>Brief Summary</strong>
            <br>
            <br>
            {{trial['http://stjohns.edu/fullclinicaltrial/hasBriefSummary'][0]['@value']}}
        </h3>

        <div class="detailedDescrButton">
             <span ng-repeat="trial in trialInfo | limitTo : 1 : 0">
                <a ui-sref=".descr({nct: trial['http://stjohns.edu/fullclinicaltrial/hasNCT'][0]['@value']})">
                    <button>Detailed Description</button>
                </a>
             </span>

            <div ui-view>

            </div>
        </div>
    </div>

    <div class="aboutHeader">
        <h3>About This Trial</h3>
    </div>

    <div class="tableBox">
        <div class="tableContent">
            <table>
                <tr>
                    <th>Status</th>
                    <th>Phase</th>
                    <th>Starts - Ends</th>
                    <th>Study Type</th>
                </tr>

                <tr ng-repeat="trial in trialInfo" ng-if="trial['http://stjohns.edu/fullclinicaltrial/hasHealthyVolunteers'][0]['@value'] != null">
                    <td>{{trial['http://stjohns.edu/fullclinicaltrial/hasOverallStatus'][0]['@value']}}</td>
                    <td>{{trial['http://stjohns.edu/fullclinicaltrial/hasPhase'][0]['@value']}}</td>
                    <td>{{trial['http://stjohns.edu/fullclinicaltrial/hasStartDate'][0]['@value']}} - <span ng-if="trial['http://stjohns.edu/fullclinicaltrial/hasCompletionDate'][0]['@value']">{{trial['http://stjohns.edu/fullclinicaltrial/hasCompletionDate'][0]['@value']}}</span>
                        <span ng-if="!trial['http://stjohns.edu/fullclinicaltrial/hasCompletionDate'][0]['@value']">N/A</span></td>
                    <td>{{trial['http://stjohns.edu/fullclinicaltrial/hasStudyType'][0]['@value']}}</td>
                </tr>
            </table>
        </div>
    </div>

    <div class="conditionsHeader">
        <h3>List of Conditions</h3>
    </div>


        <div class="tableBox">
            <div class="tableContent">
                <table>
                    <tr>
                       <th>Conditions</th>
                    </tr>

                    <tr ng-repeat="trial in trialInfo" ng-if="trial['http://stjohns.edu/fullclinicaltrial/hasCondition'][0]['@value'] != null">
                        <td>{{trial['http://stjohns.edu/fullclinicaltrial/hasCondition']['0']['@value']}}</td>
                    </tr>
                </table>
            </div>
        </div>


    <div class="eligibilityHeader">
        <h3>
            Eligibility
        </h3>
    </div>


    <div class="tableBox">
        <div class="tableContent">
            <table>
                <tr>
                    <th>Age</th>
                    <th>Sex</th>
                    <th>Healthy Volunteers</th>
                </tr>

                <tr ng-repeat="trial in trialInfo" ng-if="trial['http://stjohns.edu/fullclinicaltrial/hasHealthyVolunteers'][0]['@value'] != null">
                    <td ng-if="trial['http://stjohns.edu/fullclinicaltrial/hasMaxAge'][0]['@value']">{{trial['http://stjohns.edu/fullclinicaltrial/hasMaxAge'][0]['@value']}}</td>
                    <td ng-if="!trial['http://stjohns.edu/fullclinicaltrial/hasMaxAge'][0]['@value']">N/A</td>
                    <td>{{trial['http://stjohns.edu/fullclinicaltrial/hasGender'][0]['@value']}}</td>
                    <td>{{trial['http://stjohns.edu/fullclinicaltrial/hasHealthyVolunteers'][0]['@value']}}</td>
                </tr>
            </table>
        </div>
    </div>

    <div class="fullCritHeader">
        <h3>Full Eligibility Criteria</h3>
    </div>

    <div class="fullCritBox">
        <h3 ng-repeat="trial in trialInfo" ng-if="trial['http://stjohns.edu/fullclinicaltrial/hasCriteriaText'][0]['@value'] != null">
            {{trial['http://stjohns.edu/fullclinicaltrial/hasCriteriaText'][0]['@value']}}
        </h3>
    </div>
<br>
<br>

<div class="excludingTrialBox">

    <span ng-repeat="trial in trialInfo" ng-if="trial['http://stjohns.edu/fullclinicaltrial/hasNCT'][0]['@value'] != null">
        <a ui-sref="findConflicts({nct: trial['http://stjohns.edu/fullclinicaltrial/hasNCT'][0]['@value']})">
            <button>See Conflicts</button>
        </a>
    </span>

</div>
</div>
